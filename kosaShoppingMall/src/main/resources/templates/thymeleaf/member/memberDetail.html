<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.1.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js"></script>
<script type="text/javascript">
	$(function() {
		$("#delete").click(function() {
			//    location.href="memberDelete?memberNum=[[${memberCommand.memberNum}]]"
			//Ajax는 newxt page의 값을 가져오는 것이다. 
			$.ajax({
				type : "post",
				url : "../memberDelete",
				data : {
					"num" : "[[${memberCommand.memberNum}]]"
				},
				dataType : "text",
				//데이터가 정상적으로 넘어갔을때
				//result는 정상적으로 값이 넘어갔을때
				success : function(result) {
					alert(result)
					if (result.trim() == '1') {
						alert("회원이 정상적으로 삭제 되었습니다.");
						location.href = "../memberList";
					} else {
						alert("회원이 삭제되지 않았습니다.");
						return false;
					}
				},
				error : function() {
					alert("코드 레드 코드레드 위험해요");
					return;

				}
			});
		});
	});
		function del() {
			$.ajax({
				type : "post",
				url : "../memberDelete",
				data : {
					"num" : "[[${memberCommand.memberNum}]]"
				},
				dataType : "text",
				//데이터가 정상적으로 넘어갔을때
				//result는 정상적으로 값이 넘어갔을때
				success : function(result) {
					alert(result)
					if (result.trim() == '1') {
						alert("회원이 정상적으로 삭제 되었습니다.");
						location.href = "../memberList";
					} else {
						alert("회원이 삭제되지 않았습니다.");
						return false;
					}
				},
				error : function() {
					alert("코드 레드 코드레드 위험해요");
					return;

				}

			});
	};
</script>
</head>
<body>
	회원 3등급 이상만 볼 수 있습니다.
	<br> 회원 아이디 : [[${memberCommand.memberId}]]
	<br /> 회원 이름 : [[${memberCommand.memberName}]]
	<br /> 회원 주소 : [[${memberCommand.memberAddr}]]
	<br /> 등록일 :
	<span
		th:text="${#dates.format(memberCommand.memberRegist,'yyyy-MM-dd')}"></span>
	<br /> 성별 :
	<span th:if="${memberCommand.gender == 'M'}" th:text="남자"></span>
	<span th:if="${memberCommand.gender == 'F'}" th:text="여자"></span>
	<br> 연락처 : [[${memberCommand.memberPhone}]]
	<br /> 생년월일 :
	<span
		th:text="${#dates.format(memberCommand.memberBirth,'yyyy-MM-dd')}"></span>
	<br /> 회원 이메일 : [[${memberCommand.memberEmail}]]
	<br />




	<form action="../memberModify" method="get">
		<input type="hidden" name="memberNum" th:value="${memberCommand.memberNum}"><br /> 
		<input type="submit" value="수정해봐요" /> 
		<input type="button" value="jquery삭제" id="delete"> 
		<input type="button" value="funtion삭제" id="delete2" onclick="del()">
	</form>
	<!-- 
<a href="@{../memberDelete(Num=${memberCommand.memberNum})}">삭제</a> -->
	<a href="javascript:del();">삭제</a>
</body>
</html>